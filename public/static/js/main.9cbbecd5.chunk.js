(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{34:function(e,t,n){e.exports=n(62)},56:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),l=n.n(i),c=n(6),u=n(1),o=n(2),s=n(4),h=n(3),m=n(5),p=n(13),d=n.n(p),f=new(function(){function e(){Object(u.a)(this,e),this.auth=d.a.create({baseURL:"https://hola-spain.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"signup",value:function(e){var t=e.email,n=e.password,a=e.userName,r=e.isAdmin;return this.auth.post("/auth/signup",{email:t,password:n,userName:a,isAdmin:r}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,n=e.password;return this.auth.post("/auth/login",{email:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),g=r.a.createContext(),b=g.Consumer,v=g.Provider,E=function(e){return function(t){function n(){return Object(u.a)(this,n),Object(s.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(o.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(b,null,(function(n){var a=n.login,i=n.signup,l=n.logout,c=n.user,u=n.isLoggedIn;return r.a.createElement(e,Object.assign({user:c,isLoggedIn:u,login:a,signup:i,logout:l},t.props))}))}}]),n}(a.Component)},y=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,user:null,isLoading:!0},n.signup=function(e,t,a,r){f.signup({email:e,password:t,userName:a,isAdmin:r}).then((function(e){return n.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e,t){f.login({email:e,password:t}).then((function(e){return n.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){f.logout().then((function(){return n.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedIn,a=e.user,i=this.login,l=this.logout,c=this.signup;return r.a.createElement(v,{value:{isLoading:t,isLoggedIn:n,user:a,login:i,logout:l,signup:c}},this.props.children)}}]),t}(r.a.Component),j=n(14),O=(n(56),E(function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Check your application status")}}]),t}(a.Component))),C=new(function(){function e(){Object(u.a)(this,e),this.auth=d.a.create({baseURL:"https://hola-spain.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"imageUpload",value:function(e){return this.auth.post("/cloudinary/image",e).then((function(e){return e.data}))}},{key:"applicationUpload",value:function(e){return this.auth.post("/cloudinary/application",e).then((function(e){return e.data}))}},{key:"documentUpload",value:function(e){return this.auth.post("/cloudinary/document",e).then((function(e){return e.data}))}}]),e}()),k=E(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleImageChange=function(e){var t=e.target.files[0],n=new FormData;n.append("image",t),C.imageUpload(n).then((function(e){console.log("the image",e)}))},n.handleApplicationChange=function(e){var t=e.target.files[0],n=new FormData;n.append("application",t),C.applicationUpload(n).then((function(e){console.log("the image",e)}))},n.handleDocumentChange=function(e){var t=e.target.files[0],n=new FormData;n.append("document",t),C.documentUpload(n).then((function(e){console.log("the image",e)}))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Start your application",r.a.createElement("h4",null,"Download the form here"),r.a.createElement("a",{href:"./Visa.pdf",download:"Visa"},"Download"),r.a.createElement("label",null,"Upload your image here"),r.a.createElement("input",{type:"file",name:"image",onChange:this.handleImageChange}),r.a.createElement("label",null,"Upload your application form here"),r.a.createElement("input",{type:"file",name:"application",onChange:this.handleApplicationChange}),r.a.createElement("label",null,"Upload your documents here"),r.a.createElement("input",{type:"file",name:"document",onChange:this.handleDocumentChange}))}}]),t}(a.Component)),L=n(15),A=new(function(){function e(){Object(u.a)(this,e),this.auth=d.a.create({baseURL:"https://hola-spain.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"addTheNotice",value:function(e){var t=e.title,n=e.description;return this.auth.post("/notice/add",{title:t,description:n}).then((function(e){return e.data}))}},{key:"getAllNotice",value:function(){return this.auth.get("/notice",{}).then((function(e){return e.data}))}}]),e}()),w=E(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,r=t.description;A.addTheNotice({title:a,description:r}).then(console.log("Notice has been added")).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.description;return r.a.createElement("div",null,r.a.createElement("h1",null,"Add the Notice"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",name:"title",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(a.Component)),S=E(function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Private Route"),r.a.createElement("h1",null,"Welcome ",this.props.user.userName))}}]),t}(a.Component)),U=E(function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Hello admin")}}]),t}(a.Component)),N=n(17);var I=E((function(e){var t=e.component,n=e.isLoggedIn,a=Object(N.a)(e,["component","isLoggedIn"]);return r.a.createElement(j.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):n?void 0:r.a.createElement(j.a,{to:"/login"})}}))})),x=E(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:this.props.user})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.user?this.state.user.isAdmin?r.a.createElement(U,null):r.a.createElement(S,null):null)}}]),t}(a.Component)),D=E(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={noticeArray:null},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.getAllNotice().then((function(t){return e.setState({noticeArray:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.noticeArray?this.state.noticeArray.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("h3",null,e.title),r.a.createElement("p",null,e.description))})):null)}}]),t}(a.Component)),F=new(function(){function e(){Object(u.a)(this,e),this.auth=d.a.create({baseURL:"https://hola-spain.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"getAllUser",value:function(){return this.auth.get("/user",{}).then((function(e){return e.data}))}},{key:"addUser",value:function(e){return this.auth.post("/user/add/".concat(e),{}).then((function(e){return e.data}))}},{key:"getUserById",value:function(e){return this.auth.get("/user/".concat(e),{}).then((function(e){return e.data}))}},{key:"AcceptContact",value:function(e){return this.auth.post("/user/accept/".concat(e)).then((function(){return console.log("something")}))}}]),e}()),_=E(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={id:n.props.match.params.id,userList:null},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;F.getUserById(this.state.id).then((function(t){e.setState({userList:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.userList?r.a.createElement("div",null,r.a.createElement("h1",null,this.state.userList.userName)):null)}}]),t}(a.Component)),T=E(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",userName:"",isAdmin:!1},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password,i=t.userName,l=t.isAdmin;n.props.signup(a,r,i,l)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.userName;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"userName",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(c.b,{to:"/login"}," Login"))}}]),t}(a.Component)),M=E(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.login(a,r)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component));var P=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"))},R=E(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={userList:null,userById:null},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;F.getAllUser().then((function(t){e.setState({userList:t})})).catch((function(e){return console.log(e)}))}},{key:"AddUser",value:function(e){var t=this;F.addUser(e).then((function(e){F.getAllUser().then((function(e){t.setState({userList:e})}))})).catch((function(e){return console.log(e)}))}},{key:"Accept",value:function(e){var t=this;F.AcceptContact(e).then((function(e){F.getAllUser().then((function(e){t.setState({userList:e})}))}))}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this,t=-1;return this.state.userList&&(t=this.state.userList.findIndex((function(t){return t._id===e.props.user._id}))),r.a.createElement("div",null,this.state.userList?this.state.userList.map((function(t){if(!t.isAdmin&&t._id!==e.props.user._id)return r.a.createElement("div",{key:t._id},r.a.createElement("h3",null,t.userName),r.a.createElement("button",{onClick:function(){e.AddUser(t._id)}},"Add Contact"))})):null,r.a.createElement("div",null,r.a.createElement("h1",null,"These are id of your request"),this.state.userList?this.state.userList[t].requests.map((function(t){return r.a.createElement("div",{key:t._id},r.a.createElement("h3",null,t.userName),r.a.createElement("button",{onClick:function(){e.Accept(t)}},"Accept"))})):null),r.a.createElement("div",null,r.a.createElement("h1",null,"These are id of your pending"),this.state.userList?this.state.userList[t].pending.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("h3",null,e.userName))})):null),r.a.createElement("div",null,r.a.createElement("h1",null,"These are id of your friends"),this.state.userList?this.state.userList[t].friends.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(c.b,{to:"/profile/".concat(e._id)},r.a.createElement("h3",null,e.userName)))})):null))}}]),t}(a.Component));var B=E((function(e){var t=e.component,n=e.isLoggedIn,a=Object(N.a)(e,["component","isLoggedIn"]);return(r.a.createElement(j.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(j.a,{to:"/private"}):n?void 0:r.a.createElement(t,e)}})))})),H=E(function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.logout,n=e.isLoggedIn;return r.a.createElement("nav",{className:"navbar"},r.a.createElement(c.b,{to:"/",id:"home-btn"},r.a.createElement("h4",null,"Home")),n?this.props.user.isAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/Addthenotice"},r.a.createElement("h4",null,"Add the Notice")),r.a.createElement(c.b,{to:"/seeApplication"},r.a.createElement("h4",null," Applications ")),r.a.createElement("button",{onClick:t},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/user"},r.a.createElement("h4",null,"User")),r.a.createElement(c.b,{to:"/notice"},r.a.createElement("h4",null," Notice ")),r.a.createElement(c.b,{to:"/startApplication"},r.a.createElement("h4",null," Start Application ")),r.a.createElement(c.b,{to:"/applicationStatus"},r.a.createElement("h4",null," Your Status ")),r.a.createElement("h4",null,"Find Contacts"),r.a.createElement("button",{onClick:t},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/login"}," ",r.a.createElement("button",{className:"navbar-button"},"Login")," "),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/signup"}," ",r.a.createElement("button",{className:"navbar-button"},"Sign Up")," ")))}}]),t}(a.Component)),q=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(H,null),r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",component:P}),r.a.createElement(B,{exact:!0,path:"/signup",component:T}),r.a.createElement(B,{exact:!0,path:"/login",component:M}),r.a.createElement(I,{exact:!0,path:"/private",component:x}),r.a.createElement(I,{exact:!0,path:"/profile/:id",component:_}),r.a.createElement(I,{exact:!0,path:"/user",component:R}),r.a.createElement(I,{exact:!0,path:"/Addthenotice",component:w}),r.a.createElement(I,{exact:!0,path:"/notice",component:D}),r.a.createElement(I,{exact:!0,path:"/startApplication",component:k}),r.a.createElement(I,{exact:!0,path:"/applicationStatus",component:O})))}}]),t}(a.Component);l.a.render(r.a.createElement(c.a,null,r.a.createElement(y,null,r.a.createElement(q,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.9cbbecd5.chunk.js.map